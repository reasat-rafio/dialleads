var Zr=Object.defineProperty;var $e=e=>{throw TypeError(e)};var tn=(e,t,r)=>t in e?Zr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var O=(e,t,r)=>tn(e,typeof t!="symbol"?t+"":t,r),Re=(e,t,r)=>t.has(e)||$e("Cannot "+r);var f=(e,t,r)=>(Re(e,t,"read from private field"),r?r.call(e):t.get(e)),x=(e,t,r)=>t.has(e)?$e("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),S=(e,t,r,n)=>(Re(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);import{_ as de}from"./preload-helper.C1FmrZbK.js";const Si="ttleus4d",xi="production",Xe=!(typeof navigator>"u")&&navigator.product==="ReactNative",Ke={timeout:Xe?6e4:12e4},en=function(e){const t={...Ke,...typeof e=="string"?{url:e}:e};if(t.timeout=Ze(t.timeout),t.query){const{url:r,searchParams:n}=function(o){const i=o.indexOf("?");if(i===-1)return{url:o,searchParams:new URLSearchParams};const s=o.slice(0,i),a=o.slice(i+1);if(!Xe)return{url:s,searchParams:new URLSearchParams(a)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const p=new URLSearchParams;for(const l of a.split("&")){const[y,v]=l.split("=");y&&p.append(_e(y),_e(v||""))}return{url:s,searchParams:p}}(t.url);for(const[o,i]of Object.entries(t.query)){if(i!==void 0)if(Array.isArray(i))for(const a of i)n.append(o,a);else n.append(o,i);const s=n.toString();s&&(t.url=`${r}?${s}`)}}return t.method=t.body&&!t.method?"POST":(t.method||"GET").toUpperCase(),t};function _e(e){return decodeURIComponent(e.replace(/\+/g," "))}function Ze(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?Ze(Ke.timeout):{connect:t,socket:t}}const rn=/^https?:\/\//i,nn=function(e){if(!rn.test(e.url))throw new Error(`"${e.url}" is not a valid URL`)};function tr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const on=["request","response","progress","error","abort"],qe=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function er(e,t){const r=[],n=qe.reduce((i,s)=>(i[s]=i[s]||[],i),{processOptions:[en],validateOptions:[nn]});function o(i){const s=on.reduce((g,w)=>(g[w]=function(){const m=Object.create(null);let C=0;return{publish:function(P){for(const A in m)m[A](P)},subscribe:function(P){const A=C++;return m[A]=P,function(){delete m[A]}}}}(),g),{}),a=(g=>function(w,m,...C){const P=w==="onError";let A=m;for(let T=0;T<g[w].length&&(A=(0,g[w][T])(A,...C),!P||A);T++);return A})(n),p=a("processOptions",i);a("validateOptions",p);const l={options:p,channels:s,applyMiddleware:a};let y;const v=s.request.subscribe(g=>{y=t(g,(w,m)=>((C,P,A)=>{let T=C,L=P;if(!T)try{L=a("onResponse",P,A)}catch(D){L=null,T=D}T=T&&a("onError",T,A),T?s.error.publish(T):L&&s.response.publish(L)})(w,m,g))});s.abort.subscribe(()=>{v(),y&&y.abort()});const E=a("onReturn",s,l);return E===s&&s.request.publish(l),E}return o.use=function(i){if(!i)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof i=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(i.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return qe.forEach(s=>{i[s]&&n[s].push(i[s])}),r.push(i),o},o.clone=()=>er(r,t),e.forEach(o.use),o}var oe=function(e){return e.replace(/^\s+|\s+$/g,"")},sn=tr(function(e){if(!e)return{};for(var t={},r=oe(e).split(`
`),n=0;n<r.length;n++){var o=r[n],i=o.indexOf(":"),s=oe(o.slice(0,i)).toLowerCase(),a=oe(o.slice(i+1));typeof t[s]>"u"?t[s]=a:(p=t[s],Object.prototype.toString.call(p)==="[object Array]"?t[s].push(a):t[s]=[t[s],a])}var p;return t}),$t,Rt,wt,_t,Q,qt,Ft,Qe;let se=(Qe=class{constructor(){O(this,"onabort");O(this,"onerror");O(this,"onreadystatechange");O(this,"ontimeout");O(this,"readyState",0);O(this,"response");O(this,"responseText","");O(this,"responseType","");O(this,"status");O(this,"statusText");O(this,"withCredentials");x(this,$t);x(this,Rt);x(this,wt);x(this,_t,{});x(this,Q);x(this,qt,{});x(this,Ft)}open(t,r,n){var o;S(this,$t,t),S(this,Rt,r),S(this,wt,""),this.readyState=1,(o=this.onreadystatechange)==null||o.call(this),S(this,Q,void 0)}abort(){f(this,Q)&&f(this,Q).abort()}getAllResponseHeaders(){return f(this,wt)}setRequestHeader(t,r){f(this,_t)[t]=r}setInit(t,r=!0){S(this,qt,t),S(this,Ft,r)}send(t){const r=this.responseType!=="arraybuffer",n={...f(this,qt),method:f(this,$t),headers:f(this,_t),body:t};typeof AbortController=="function"&&f(this,Ft)&&(S(this,Q,new AbortController),typeof EventTarget<"u"&&f(this,Q).signal instanceof EventTarget&&(n.signal=f(this,Q).signal)),typeof document<"u"&&(n.credentials=this.withCredentials?"include":"omit"),fetch(f(this,Rt),n).then(o=>{var i;return o.headers.forEach((s,a)=>{S(this,wt,f(this,wt)+`${a}: ${s}\r
`)}),this.status=o.status,this.statusText=o.statusText,this.readyState=3,(i=this.onreadystatechange)==null||i.call(this),r?o.text():o.arrayBuffer()}).then(o=>{var i;typeof o=="string"?this.responseText=o:this.response=o,this.readyState=4,(i=this.onreadystatechange)==null||i.call(this)}).catch(o=>{var i,s;o.name!=="AbortError"?(i=this.onerror)==null||i.call(this,o):(s=this.onabort)==null||s.call(this)})}},$t=new WeakMap,Rt=new WeakMap,wt=new WeakMap,_t=new WeakMap,Q=new WeakMap,qt=new WeakMap,Ft=new WeakMap,Qe);const ae=typeof XMLHttpRequest=="function"?"xhr":"fetch",an=ae==="xhr"?XMLHttpRequest:se,un=(e,t)=>{const r=e.options,n=e.applyMiddleware("finalizeOptions",r),o={},i=e.applyMiddleware("interceptRequest",void 0,{adapter:ae,context:e});if(i){const m=setTimeout(t,0,null,i);return{abort:()=>clearTimeout(m)}}let s=new an;s instanceof se&&typeof n.fetch=="object"&&s.setInit(n.fetch,n.useAbortSignal??!0);const a=n.headers,p=n.timeout;let l=!1,y=!1,v=!1;if(s.onerror=m=>{w(s instanceof se?m instanceof Error?m:new Error(`Request error while attempting to reach is ${n.url}`,{cause:m}):new Error(`Request error while attempting to reach is ${n.url}${m.lengthComputable?`(${m.loaded} of ${m.total} bytes transferred)`:""}`))},s.ontimeout=m=>{w(new Error(`Request timeout while attempting to reach ${n.url}${m.lengthComputable?`(${m.loaded} of ${m.total} bytes transferred)`:""}`))},s.onabort=()=>{g(!0),l=!0},s.onreadystatechange=()=>{p&&(g(),o.socket=setTimeout(()=>E("ESOCKETTIMEDOUT"),p.socket)),!l&&s.readyState===4&&s.status!==0&&function(){if(!(l||y||v)){if(s.status===0)return void w(new Error("Unknown XHR error"));g(),y=!0,t(null,{body:s.response||(s.responseType===""||s.responseType==="text"?s.responseText:""),url:n.url,method:n.method,headers:sn(s.getAllResponseHeaders()),statusCode:s.status,statusMessage:s.statusText})}}()},s.open(n.method,n.url,!0),s.withCredentials=!!n.withCredentials,a&&s.setRequestHeader)for(const m in a)a.hasOwnProperty(m)&&s.setRequestHeader(m,a[m]);return n.rawBody&&(s.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:n,adapter:ae,request:s,context:e}),s.send(n.body||null),p&&(o.connect=setTimeout(()=>E("ETIMEDOUT"),p.connect)),{abort:function(){l=!0,s&&s.abort()}};function E(m){v=!0,s.abort();const C=new Error(m==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${n.url}`:`Connection timed out on request to ${n.url}`);C.code=m,e.channels.error.publish(C)}function g(m){(m||l||s.readyState>=2&&o.connect)&&clearTimeout(o.connect),o.socket&&clearTimeout(o.socket)}function w(m){if(y)return;g(!0),y=!0,s=null;const C=m||new Error(`Network error while attempting to reach ${n.url}`);C.isNetworkError=!0,C.request=n,t(C)}},cn=(e=[],t=un)=>er(e,t);var ln={},Fe,Me,ue={exports:{}};function fn(){if(Me)return Fe;Me=1;var e=1e3,t=60*e,r=60*t,n=24*r,o=7*n,i=365.25*n;function s(a,p,l,y){var v=p>=1.5*l;return Math.round(a/l)+" "+y+(v?"s":"")}return Fe=function(a,p){p=p||{};var l,y,v=typeof a;if(v==="string"&&a.length>0)return function(E){if(!((E=String(E)).length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(E);if(g){var w=parseFloat(g[1]);switch((g[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return w*i;case"weeks":case"week":case"w":return w*o;case"days":case"day":case"d":return w*n;case"hours":case"hour":case"hrs":case"hr":case"h":return w*r;case"minutes":case"minute":case"mins":case"min":case"m":return w*t;case"seconds":case"second":case"secs":case"sec":case"s":return w*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}(a);if(v==="number"&&isFinite(a))return p.long?(l=a,(y=Math.abs(l))>=n?s(l,y,n,"day"):y>=r?s(l,y,r,"hour"):y>=t?s(l,y,t,"minute"):y>=e?s(l,y,e,"second"):l+" ms"):function(E){var g=Math.abs(E);return g>=n?Math.round(E/n)+"d":g>=r?Math.round(E/r)+"h":g>=t?Math.round(E/t)+"m":g>=e?Math.round(E/e)+"s":E+"ms"}(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}}var hn=function(e){function t(o){let i,s,a,p=null;function l(...y){if(!l.enabled)return;const v=l,E=Number(new Date),g=E-(i||E);v.diff=g,v.prev=i,v.curr=E,i=E,y[0]=t.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let w=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(m,C)=>{if(m==="%%")return"%";w++;const P=t.formatters[C];if(typeof P=="function"){const A=y[w];m=P.call(v,A),y.splice(w,1),w--}return m}),t.formatArgs.call(v,y),(v.log||t.log).apply(v,y)}return l.namespace=o,l.useColors=t.useColors(),l.color=t.selectColor(o),l.extend=r,l.destroy=t.destroy,Object.defineProperty(l,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(s!==t.namespaces&&(s=t.namespaces,a=t.enabled(o)),a),set:y=>{p=y}}),typeof t.init=="function"&&t.init(l),l}function r(o,i){const s=t(this.namespace+(typeof i>"u"?":":i)+o);return s.log=this.log,s}function n(o){return o.toString().substring(2,o.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(o){return o instanceof Error?o.stack||o.message:o},t.disable=function(){const o=[...t.names.map(n),...t.skips.map(n).map(i=>"-"+i)].join(",");return t.enable(""),o},t.enable=function(o){let i;t.save(o),t.namespaces=o,t.names=[],t.skips=[];const s=(typeof o=="string"?o:"").split(/[\s,]+/),a=s.length;for(i=0;i<a;i++)s[i]&&((o=s[i].replace(/\*/g,".*?"))[0]==="-"?t.skips.push(new RegExp("^"+o.slice(1)+"$")):t.names.push(new RegExp("^"+o+"$")))},t.enabled=function(o){if(o[o.length-1]==="*")return!0;let i,s;for(i=0,s=t.skips.length;i<s;i++)if(t.skips[i].test(o))return!1;for(i=0,s=t.names.length;i<s;i++)if(t.names[i].test(o))return!0;return!1},t.humanize=fn(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(o=>{t[o]=e[o]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(o){let i=0;for(let s=0;s<o.length;s++)i=(i<<5)-i+o.charCodeAt(s),i|=0;return t.colors[Math.abs(i)%t.colors.length]},t.enable(t.load()),t};(function(e,t){t.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const o="color: "+this.color;n.splice(1,0,o,"color: inherit");let i=0,s=0;n[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(i++,a==="%c"&&(s=i))}),n.splice(s,0,o)},t.save=function(n){try{n?t.storage.setItem("debug",n):t.storage.removeItem("debug")}catch{}},t.load=function(){let n;try{n=t.storage.getItem("debug")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=ln.DEBUG),n},t.useColors=function(){return!(!(typeof window<"u"&&window.process)||window.process.type!=="renderer"&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch{}}(),t.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=hn(t);const{formatters:r}=e.exports;r.j=function(n){try{return JSON.stringify(n)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}}})(ue,ue.exports);tr(ue.exports);const dn=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e);function Ue(e){return Object.prototype.toString.call(e)==="[object Object]"}function pn(e){if(Ue(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(Ue(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)}const yn=["boolean","string","number"];function mn(){return{processOptions:e=>{const t=e.body;return!t||typeof t.pipe=="function"||dn(t)||yn.indexOf(typeof t)===-1&&!Array.isArray(t)&&!pn(t)?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function gn(e){return{onResponse:r=>{const n=r.headers["content-type"]||"",o=e&&e.force||n.indexOf("application/json")!==-1;return r.body&&n&&o?Object.assign({},r,{body:t(r.body)}):r},processOptions:r=>Object.assign({},r,{headers:Object.assign({Accept:"application/json"},r.headers)})};function t(r){try{return JSON.parse(r)}catch(n){throw n.message=`Failed to parsed response body as JSON: ${n.message}`,n}}}let At={};typeof globalThis<"u"?At=globalThis:typeof window<"u"?At=window:typeof global<"u"?At=global:typeof self<"u"&&(At=self);var vn=At;function wn(e={}){const t=e.implementation||vn.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(r,n)=>new t(o=>(r.error.subscribe(i=>o.error(i)),r.progress.subscribe(i=>o.next(Object.assign({type:"progress"},i))),r.response.subscribe(i=>{o.next(Object.assign({type:"response"},i)),o.complete()}),r.request.publish(n),()=>r.abort.publish()))}}function bn(){return{onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,r=e.context;function n(o){return i=>{const s=i.lengthComputable?i.loaded/i.total*100:-1;r.channels.progress.publish({stage:o,percent:s,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=n("upload")),"onprogress"in t&&(t.onprogress=n("download"))}}}var rr=(e,t,r)=>(r.method==="GET"||r.method==="HEAD")&&(e.isNetworkError||!1);function En(e){return 100*Math.pow(2,e)+100*Math.random()}const pe=(e={})=>(t=>{const r=t.maxRetries||5,n=t.retryDelay||En,o=t.shouldRetry;return{onError:(i,s)=>{const a=s.options,p=a.maxRetries||r,l=a.retryDelay||n,y=a.shouldRetry||o,v=a.attemptNumber||0;if((E=a.body)!==null&&typeof E=="object"&&typeof E.pipe=="function"||!y(i,v,a)||v>=p)return i;var E;const g=Object.assign({},s,{options:Object.assign({},a,{attemptNumber:v+1})});return setTimeout(()=>s.channels.request.publish(g),l(v)),null}}})({shouldRetry:rr,...e});pe.shouldRetry=rr;var ce=function(e,t){return ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},ce(e,t)};function ye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ce(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ke=function(){return ke=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ke.apply(this,arguments)};function Cn(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(y){try{l(n.next(y))}catch(v){s(v)}}function p(y){try{l(n.throw(y))}catch(v){s(v)}}function l(y){y.done?i(y.value):o(y.value).then(a,p)}l((n=n.apply(e,t||[])).next())})}function nr(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(y){return p([l,y])}}function p(l){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(y){l=[6,y],o=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Tt(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function dt(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function pt(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function gt(e){return this instanceof gt?(this.v=e,this):new gt(e)}function On(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(g){return function(w){return Promise.resolve(w).then(g,v)}}function a(g,w){n[g]&&(o[g]=function(m){return new Promise(function(C,P){i.push([g,m,C,P])>1||p(g,m)})},w&&(o[g]=w(o[g])))}function p(g,w){try{l(n[g](w))}catch(m){E(i[0][3],m)}}function l(g){g.value instanceof gt?Promise.resolve(g.value.v).then(y,v):E(i[0][2],g)}function y(g){p("next",g)}function v(g){p("throw",g)}function E(g,w){g(w),i.shift(),i.length&&p(i[0][0],i[0][1])}}function Sn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Tt=="function"?Tt(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,p){s=e[i](s),o(a,p,s.done,s.value)})}}function o(i,s,a,p){Promise.resolve(p).then(function(l){i({value:l,done:a})},s)}}function F(e){return typeof e=="function"}function or(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var ie=or(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,o){return o+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Le(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var me=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Tt(s),p=a.next();!p.done;p=a.next()){var l=p.value;l.remove(this)}}catch(m){t={error:m}}finally{try{p&&!p.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}else s.remove(this);var y=this.initialTeardown;if(F(y))try{y()}catch(m){i=m instanceof ie?m.errors:[m]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var E=Tt(v),g=E.next();!g.done;g=E.next()){var w=g.value;try{De(w)}catch(m){i=i??[],m instanceof ie?i=pt(pt([],dt(i)),dt(m.errors)):i.push(m)}}}catch(m){n={error:m}}finally{try{g&&!g.done&&(o=E.return)&&o.call(E)}finally{if(n)throw n.error}}}if(i)throw new ie(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)De(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&Le(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&Le(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Ai=me.EMPTY;function ir(e){return e instanceof me||e&&"closed"in e&&F(e.remove)&&F(e.add)&&F(e.unsubscribe)}function De(e){F(e)?e():e.unsubscribe()}var xn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},sr={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,pt([e,t],dt(r)))},clearTimeout:function(e){var t=sr.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function ar(e){sr.setTimeout(function(){throw e})}function Ne(){}function In(e){e()}var ge=function(e){ye(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,ir(r)&&r.add(n)):n.destination=Pn,n}return t.create=function(r,n,o){return new le(r,n,o)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(me),An=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){Jt(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){Jt(n)}else Jt(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){Jt(r)}},e}(),le=function(e){ye(t,e);function t(r,n,o){var i=e.call(this)||this,s;return F(r)||!r?s={next:r??void 0,error:n??void 0,complete:o??void 0}:s=r,i.destination=new An(s),i}return t}(ge);function Jt(e){ar(e)}function jn(e){throw e}var Pn={closed:!0,next:Ne,error:jn,complete:Ne},ve=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function we(e){return e}function Tn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ur(e)}function ur(e){return e.length===0?we:e.length===1?e[0]:function(r){return e.reduce(function(n,o){return o(n)},r)}}var U=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var o=this,i=Rn(t)?t:new le(t,r,n);return In(function(){var s=o,a=s.operator,p=s.source;i.add(a?a.call(i,p):p?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=He(r),new r(function(o,i){var s=new le({next:function(a){try{t(a)}catch(p){i(p),s.unsubscribe()}},error:i,complete:o});n.subscribe(s)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[ve]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ur(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=He(t),new t(function(n,o){var i;r.subscribe(function(s){return i=s},function(s){return o(s)},function(){return n(i)})})},e.create=function(t){return new e(t)},e}();function He(e){var t;return(t=e??xn.Promise)!==null&&t!==void 0?t:Promise}function $n(e){return e&&F(e.next)&&F(e.error)&&F(e.complete)}function Rn(e){return e&&e instanceof ge||$n(e)&&ir(e)}function _n(e){return F(e==null?void 0:e.lift)}function zt(e){return function(t){if(_n(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function re(e,t,r,n,o){return new qn(e,t,r,n,o)}var qn=function(e){ye(t,e);function t(r,n,o,i,s,a){var p=e.call(this,r)||this;return p.onFinalize=s,p.shouldUnsubscribe=a,p._next=n?function(l){try{n(l)}catch(y){r.error(y)}}:e.prototype._next,p._error=i?function(l){try{i(l)}catch(y){r.error(y)}finally{this.unsubscribe()}}:e.prototype._error,p._complete=o?function(){try{o()}catch(l){r.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,p}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(ge);function Fn(e){return e&&F(e.schedule)}function be(e){return e[e.length-1]}function cr(e){return F(be(e))?e.pop():void 0}function Mn(e){return Fn(be(e))?e.pop():void 0}function ji(e,t){return typeof be(e)=="number"?e.pop():t}var lr=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function fr(e){return F(e==null?void 0:e.then)}function hr(e){return F(e[ve])}function dr(e){return Symbol.asyncIterator&&F(e==null?void 0:e[Symbol.asyncIterator])}function pr(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Un(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var yr=Un();function mr(e){return F(e==null?void 0:e[yr])}function gr(e){return On(this,arguments,function(){var r,n,o,i;return nr(this,function(s){switch(s.label){case 0:r=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,gt(r.read())];case 3:return n=s.sent(),o=n.value,i=n.done,i?[4,gt(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,gt(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function vr(e){return F(e==null?void 0:e.getReader)}function Ee(e){if(e instanceof U)return e;if(e!=null){if(hr(e))return kn(e);if(lr(e))return Ln(e);if(fr(e))return Dn(e);if(dr(e))return wr(e);if(mr(e))return Nn(e);if(vr(e))return Hn(e)}throw pr(e)}function kn(e){return new U(function(t){var r=e[ve]();if(F(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ln(e){return new U(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function Dn(e){return new U(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,ar)})}function Nn(e){return new U(function(t){var r,n;try{for(var o=Tt(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}t.complete()})}function wr(e){return new U(function(t){Bn(e,t).catch(function(r){return t.error(r)})})}function Hn(e){return wr(gr(e))}function Bn(e,t){var r,n,o,i;return Cn(this,void 0,void 0,function(){var s,a;return nr(this,function(p){switch(p.label){case 0:p.trys.push([0,5,6,11]),r=Sn(e),p.label=1;case 1:return[4,r.next()];case 2:if(n=p.sent(),!!n.done)return[3,4];if(s=n.value,t.next(s),t.closed)return[2];p.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=p.sent(),o={error:a},[3,11];case 6:return p.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:p.sent(),p.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function st(e,t,r,n,o){n===void 0&&(n=0),o===void 0&&(o=!1);var i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function br(e,t){return t===void 0&&(t=0),zt(function(r,n){r.subscribe(re(n,function(o){return st(n,e,function(){return n.next(o)},t)},function(){return st(n,e,function(){return n.complete()},t)},function(o){return st(n,e,function(){return n.error(o)},t)}))})}function Er(e,t){return t===void 0&&(t=0),zt(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}function zn(e,t){return Ee(e).pipe(Er(t),br(t))}function Vn(e,t){return Ee(e).pipe(Er(t),br(t))}function Wn(e,t){return new U(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}function Gn(e,t){return new U(function(r){var n;return st(r,t,function(){n=e[yr](),st(r,t,function(){var o,i,s;try{o=n.next(),i=o.value,s=o.done}catch(a){r.error(a);return}s?r.complete():r.next(i)},0,!0)}),function(){return F(n==null?void 0:n.return)&&n.return()}})}function Cr(e,t){if(!e)throw new Error("Iterable cannot be null");return new U(function(r){st(r,t,function(){var n=e[Symbol.asyncIterator]();st(r,t,function(){n.next().then(function(o){o.done?r.complete():r.next(o.value)})},0,!0)})})}function Jn(e,t){return Cr(gr(e),t)}function Yn(e,t){if(e!=null){if(hr(e))return zn(e,t);if(lr(e))return Wn(e,t);if(fr(e))return Vn(e,t);if(dr(e))return Cr(e,t);if(mr(e))return Gn(e,t);if(vr(e))return Jn(e,t)}throw pr(e)}function Ce(e,t){return t?Yn(e,t):Ee(e)}var Qn=or(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function q(e,t){var r=typeof t=="object";return new Promise(function(n,o){var i=!1,s;e.subscribe({next:function(a){s=a,i=!0},error:o,complete:function(){i?n(s):r?n(t.defaultValue):o(new Qn)}})})}function Z(e,t){return zt(function(r,n){var o=0;r.subscribe(re(n,function(i){n.next(e.call(t,i,o++))}))})}var Xn=Array.isArray;function Kn(e,t){return Xn(t)?e.apply(void 0,pt([],dt(t))):e(t)}function Or(e){return Z(function(t){return Kn(e,t)})}var Zn=Array.isArray,to=Object.getPrototypeOf,eo=Object.prototype,ro=Object.keys;function no(e){if(e.length===1){var t=e[0];if(Zn(t))return{args:t,keys:null};if(oo(t)){var r=ro(t);return{args:r.map(function(n){return t[n]}),keys:r}}}return{args:e,keys:null}}function oo(e){return e&&typeof e=="object"&&to(e)===eo}function io(e,t){return e.reduce(function(r,n,o){return r[n]=t[o],r},{})}function Pi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Mn(e),n=cr(e),o=no(e),i=o.args,s=o.keys;if(i.length===0)return Ce([],r);var a=new U(Sr(i,r,s?function(p){return io(s,p)}:we));return n?a.pipe(Or(n)):a}function Sr(e,t,r){return r===void 0&&(r=we),function(n){Be(t,function(){for(var o=e.length,i=new Array(o),s=o,a=o,p=function(y){Be(t,function(){var v=Ce(e[y],t),E=!1;v.subscribe(re(n,function(g){i[y]=g,E||(E=!0,a--),a||n.next(r(i.slice()))},function(){--s||n.complete()}))},n)},l=0;l<o;l++)p(l)},n)}}function Be(e,t,r){e?st(r,e,t):t()}var so=Array.isArray;function ao(e){return e.length===1&&so(e[0])?e[0]:e}function Vt(e,t){return zt(function(r,n){var o=0;r.subscribe(re(n,function(i){return e.call(t,i,o++)&&n.next(i)}))})}function xr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=cr(e);return r?Tn(xr.apply(void 0,pt([],dt(e))),Or(r)):zt(function(n,o){Sr(pt([n],dt(ao(e))))(o)})}function uo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return xr.apply(void 0,pt([],dt(e)))}var Ir={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},Oe={0:8203,1:8204,2:8205,3:65279},co=new Array(4).fill(String.fromCodePoint(Oe[0])).join("");function lo(e){let t=JSON.stringify(e);return`${co}${Array.from(t).map(r=>{let n=r.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${t} on character ${r} (${n})`);return Array.from(n.toString(4).padStart(4,"0")).map(o=>String.fromCodePoint(Oe[o])).join("")}).join("")}`}function fo(e){return!Number.isNaN(Number(e))||/[a-z]/i.test(e)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(e)?!1:!!Date.parse(e)}function ho(e){try{new URL(e,e.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function Ti(e,t,r="auto"){return r===!0||r==="auto"&&(fo(e)||ho(e))?e:`${e}${lo(t)}`}Object.fromEntries(Object.entries(Oe).map(e=>e.reverse()));Object.fromEntries(Object.entries(Ir).map(e=>e.reverse()));var po=`${Object.values(Ir).map(e=>`\\u{${e.toString(16)}}`).join("")}`,ze=new RegExp(`[${po}]{4,}`,"gu");function yo(e){var t;return{cleaned:e.replace(ze,""),encoded:((t=e.match(ze))==null?void 0:t[0])||""}}function mo(e){return e&&JSON.parse(yo(JSON.stringify(e)).cleaned)}function go(e){return mo(e)}class vo extends Error{constructor(r){const n=Ar(r);super(n.message);O(this,"response");O(this,"statusCode",400);O(this,"responseBody");O(this,"details");Object.assign(this,n)}}class wo extends Error{constructor(r){const n=Ar(r);super(n.message);O(this,"response");O(this,"statusCode",500);O(this,"responseBody");O(this,"details");Object.assign(this,n)}}function Ar(e){const t=e.body,r={response:e,statusCode:e.statusCode,responseBody:Oo(t,e),message:"",details:void 0};if(t.error&&t.message)return r.message=`${t.error} - ${t.message}`,r;if(bo(t)||Eo(t)){const n=t.error.items||[],o=n.slice(0,5).map(s=>{var a;return(a=s.error)==null?void 0:a.description}).filter(Boolean);let i=o.length?`:
- ${o.join(`
- `)}`:"";return n.length>5&&(i+=`
...and ${n.length-5} more`),r.message=`${t.error.description}${i}`,r.details=t.error,r}return t.error&&t.error.description?(r.message=t.error.description,r.details=t.error,r):(r.message=t.error||t.message||Co(e),r)}function bo(e){return Qt(e)&&Qt(e.error)&&e.error.type==="mutationError"&&typeof e.error.description=="string"}function Eo(e){return Qt(e)&&Qt(e.error)&&e.error.type==="actionError"&&typeof e.error.description=="string"}function Qt(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Co(e){const t=e.statusMessage?` ${e.statusMessage}`:"";return`${e.method}-request to ${e.url} resulted in HTTP ${e.statusCode}${t}`}function Oo(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}class So extends Error{constructor({projectId:r}){super("CorsOriginError");O(this,"projectId");O(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=r;const n=new URL(`https://sanity.io/manage/project/${r}/api`);if(typeof location<"u"){const{origin:o}=location;n.searchParams.set("cors","add"),n.searchParams.set("origin",o),this.addOriginUrl=n,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${n}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${n}`}}const xo={onResponse:e=>{if(e.statusCode>=500)throw new wo(e);if(e.statusCode>=400)throw new vo(e);return e}},Io={onResponse:e=>{const t=e.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(r=>console.warn(r)),e}};function Ao(e){return cn([pe({shouldRetry:jo}),...e,Io,mn(),gn(),bn(),xo,wn({implementation:U})])}function jo(e,t,r){if(r.maxRetries===0)return!1;const n=r.method==="GET"||r.method==="HEAD",o=(r.uri||r.url).startsWith("/data/query"),i=e.response&&(e.response.statusCode===429||e.response.statusCode===502||e.response.statusCode===503);return(n||o)&&i?!0:pe.shouldRetry(e,t,r)}const Po="https://www.sanity.io/help/";function Se(e){return Po+e}const Ve=["image","file"],We=["before","after","replace"],jr=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},To=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},$o=e=>{if(Ve.indexOf(e)===-1)throw new Error(`Invalid asset type: ${e}. Must be one of ${Ve.join(", ")}`)},jt=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error(`${e}() takes an object of properties`)},Pr=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error(`${e}(): "${t}" is not a valid document ID`)},Xt=(e,t)=>{if(!t._id)throw new Error(`${e}() requires that the document contains an ID ("_id" property)`);Pr(e,t._id)},Ro=(e,t,r)=>{const n="insert(at, selector, items)";if(We.indexOf(e)===-1){const o=We.map(i=>`"${i}"`).join(", ");throw new Error(`${n} takes an "at"-argument which is one of: ${o}`)}if(typeof t!="string")throw new Error(`${n} takes a "selector"-argument which must be a string`);if(!Array.isArray(r))throw new Error(`${n} takes an "items"-argument which must be an array`)},Tr=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},$r=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e};function _o(e){let t=!1,r;return(...n)=>(t||(r=e(...n),t=!0),r)}const Wt=e=>_o((...t)=>console.warn(e.join(" "),...t)),qo=Wt(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),Fo=Wt(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),Mo=Wt(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),Uo=Wt(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${Se("js-client-browser-token")} for more information and how to hide this warning.`]),ko=Wt(["Using the Sanity client without specifying an API version is deprecated.",`See ${Se("js-client-api-version")}`]),Lo="apicdn.sanity.io",Pt={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},Do=["localhost","127.0.0.1","0.0.0.0"],No=e=>Do.indexOf(e)!==-1;function Ho(e){if(e==="1"||e==="X")return;const t=new Date(e);if(!(/^\d{4}-\d{2}-\d{2}$/.test(e)&&t instanceof Date&&t.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function Rr(e){if(Array.isArray(e)){for(const t of e)if(t!=="published"&&t!=="drafts"&&!(typeof t=="string"&&t.startsWith("r")&&t!=="raw"))throw new TypeError("Invalid API perspective value, expected `published`, `drafts` or a valid release identifier string");return}switch(e){case"previewDrafts":case"drafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}}const _r=(e,t)=>{const r={...t,...e,stega:{...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||Pt.stega,...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||{}}};r.apiVersion||ko();const n={...Pt,...r},o=n.useProjectHostname;if(typeof Promise>"u"){const v=Se("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${v}`)}if(o&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(typeof n.perspective<"u"&&Rr(n.perspective),"encodeSourceMap"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof n.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${n.stega.enabled}`);if(n.stega.enabled&&n.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(n.stega.enabled&&typeof n.stega.studioUrl!="string"&&typeof n.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${n.stega.studioUrl}`);const i=typeof window<"u"&&window.location&&window.location.hostname,s=i&&No(window.location.hostname);i&&s&&n.token&&n.ignoreBrowserTokenWarning!==!0?Uo():typeof n.useCdn>"u"&&Fo(),o&&To(n.projectId),n.dataset&&jr(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?$r(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion=`${n.apiVersion}`.replace(/^v/,""),n.isDefaultApi=n.apiHost===Pt.apiHost,n.useCdn===!0&&n.withCredentials&&qo(),n.useCdn=n.useCdn!==!1&&!n.withCredentials,Ho(n.apiVersion);const a=n.apiHost.split("://",2),p=a[0],l=a[1],y=n.isDefaultApi?Lo:l;return n.useProjectHostname?(n.url=`${p}://${n.projectId}.${l}/v${n.apiVersion}`,n.cdnUrl=`${p}://${n.projectId}.${y}/v${n.apiVersion}`):(n.url=`${n.apiHost}/v${n.apiVersion}`,n.cdnUrl=n.url),n};function qr(e){if(typeof e=="string")return{id:e};if(Array.isArray(e))return{query:"*[_id in $ids]",params:{ids:e}};if(typeof e=="object"&&e!==null&&"query"in e&&typeof e.query=="string")return"params"in e&&typeof e.params=="object"&&e.params!==null?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${t}`)}class Fr{constructor(t,r={}){O(this,"selection");O(this,"operations");this.selection=t,this.operations=r}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return jt("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,r,n){return Ro(t,r,n),this._assign("insert",{[t]:r,items:n})}append(t,r){return this.insert("after",`${t}[-1]`,r)}prepend(t,r){return this.insert("before",`${t}[0]`,r)}splice(t,r,n,o){const i=typeof n>"u"||n===-1,s=r<0?r-1:r,a=i?-1:Math.max(0,r+n),p=s<0&&a>=0?"":a,l=`${t}[${s}:${p}]`;return this.insert("replace",l,o||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...qr(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,r,n=!0){return jt(t,r),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},n&&this.operations[t]||{},r)}),this}_set(t,r){return this._assign(t,r,!1)}}var ut;const Ae=class Ae extends Fr{constructor(r,n,o){super(r,n);x(this,ut);S(this,ut,o)}clone(){return new Ae(this.selection,{...this.operations},f(this,ut))}commit(r){if(!f(this,ut))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",o=Object.assign({returnFirst:n,returnDocuments:!0},r);return f(this,ut).mutate({patch:this.serialize()},o)}};ut=new WeakMap;let ft=Ae;var ct;const je=class je extends Fr{constructor(r,n,o){super(r,n);x(this,ct);S(this,ct,o)}clone(){return new je(this.selection,{...this.operations},f(this,ct))}commit(r){if(!f(this,ct))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",o=Object.assign({returnFirst:n,returnDocuments:!0},r);return f(this,ct).mutate({patch:this.serialize()},o)}};ct=new WeakMap;let ht=je;const Mr={returnDocuments:!1};class Ur{constructor(t=[],r){O(this,"operations");O(this,"trxId");this.operations=t,this.trxId=r}create(t){return jt("create",t),this._add({create:t})}createIfNotExists(t){const r="createIfNotExists";return jt(r,t),Xt(r,t),this._add({[r]:t})}createOrReplace(t){const r="createOrReplace";return jt(r,t),Xt(r,t),this._add({[r]:t})}delete(t){return Pr("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}var tt;const Pe=class Pe extends Ur{constructor(r,n,o){super(r,o);x(this,tt);S(this,tt,n)}clone(){return new Pe([...this.operations],f(this,tt),this.trxId)}commit(r){if(!f(this,tt))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return f(this,tt).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Mr,r||{}))}patch(r,n){const o=typeof n=="function";if(typeof r!="string"&&r instanceof ht)return this._add({patch:r.serialize()});if(o){const i=n(new ht(r,{},f(this,tt)));if(!(i instanceof ht))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:r,...n}})}};tt=new WeakMap;let Kt=Pe;var et;const Te=class Te extends Ur{constructor(r,n,o){super(r,o);x(this,et);S(this,et,n)}clone(){return new Te([...this.operations],f(this,et),this.trxId)}commit(r){if(!f(this,et))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return f(this,et).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Mr,r||{}))}patch(r,n){const o=typeof n=="function";if(typeof r!="string"&&r instanceof ft)return this._add({patch:r.serialize()});if(o){const i=n(new ft(r,{},f(this,et)));if(!(i instanceof ft))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:r,...n}})}};et=new WeakMap;let Zt=Te;const Bo="X-Sanity-Project-ID";function zo(e,t={}){const r={},n=t.token||e.token;n&&(r.Authorization=`Bearer ${n}`),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(r[Bo]=e.projectId);const o=!!(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),i=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},r,t.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:t.proxy||e.proxy,json:!0,withCredentials:o,fetch:typeof t.fetch=="object"&&typeof e.fetch=="object"?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}const kr=({query:e,params:t={},options:r={}})=>{const n=new URLSearchParams,{tag:o,includeMutations:i,returnQuery:s,...a}=r;o&&n.append("tag",o),n.append("query",e);for(const[p,l]of Object.entries(t))n.append(`$${p}`,JSON.stringify(l));for(const[p,l]of Object.entries(a))l&&n.append(p,`${l}`);return s===!1&&n.append("returnQuery","false"),i===!1&&n.append("includeMutations","false"),`?${n}`},Vo=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,Wo=(e={})=>({dryRun:e.dryRun,returnIds:!0,returnDocuments:Vo(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}),xe=e=>e.type==="response",Go=e=>e.body,Jo=(e,t)=>e.reduce((r,n)=>(r[t(n)]=n,r),Object.create(null)),Yo=11264;function Lr(e,t,r,n,o={},i={}){const s="stega"in i?{...r||{},...typeof i.stega=="boolean"?{enabled:i.stega}:i.stega||{}}:r,a=s.enabled?go(o):o,p=i.filterResponse===!1?w=>w:w=>w.result,{cache:l,next:y,...v}={useAbortSignal:typeof i.signal<"u",resultSourceMap:s.enabled?"withKeyArraySelector":i.resultSourceMap,...i,returnQuery:i.filterResponse===!1&&i.returnQuery!==!1},E=typeof l<"u"||typeof y<"u"?{...v,fetch:{cache:l,next:y}}:v,g=St(e,t,"query",{query:n,params:a},E);return s.enabled?g.pipe(uo(Ce(de(()=>import("./stegaEncodeSourceMap.D6Jn0cP9.js"),[],import.meta.url).then(function(w){return w.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:w})=>w))),Z(([w,m])=>{const C=m(w.result,w.resultSourceMap,s);return p({...w,result:C})})):g.pipe(Z(p))}function Dr(e,t,r,n={}){const o={uri:yt(e,"doc",r),json:!0,tag:n.tag,signal:n.signal};return Gt(e,t,o).pipe(Vt(xe),Z(i=>i.body.documents&&i.body.documents[0]))}function Nr(e,t,r,n={}){const o={uri:yt(e,"doc",r.join(",")),json:!0,tag:n.tag,signal:n.signal};return Gt(e,t,o).pipe(Vt(xe),Z(i=>{const s=Jo(i.body.documents||[],a=>a._id);return r.map(a=>s[a]||null)}))}function Hr(e,t,r,n){return Xt("createIfNotExists",r),ne(e,t,r,"createIfNotExists",n)}function Br(e,t,r,n){return Xt("createOrReplace",r),ne(e,t,r,"createOrReplace",n)}function zr(e,t,r,n){return St(e,t,"mutate",{mutations:[{delete:qr(r)}]},n)}function Vr(e,t,r,n){let o;r instanceof ht||r instanceof ft?o={patch:r.serialize()}:r instanceof Kt||r instanceof Zt?o=r.serialize():o=r;const i=Array.isArray(o)?o:[o],s=n&&n.transactionId||void 0;return St(e,t,"mutate",{mutations:i,transactionId:s},n)}function Wr(e,t,r,n){const o=Array.isArray(r)?r:[r],i=n&&n.transactionId||void 0,s=n&&n.skipCrossDatasetReferenceValidation||void 0,a=n&&n.dryRun||void 0;return St(e,t,"actions",{actions:o,transactionId:i,skipCrossDatasetReferenceValidation:s,dryRun:a},n)}function St(e,t,r,n,o={}){const i=r==="mutate",s=r==="actions",a=r==="query",p=i||s?"":kr(n),l=!i&&!s&&p.length<Yo,y=l?p:"",v=o.returnFirst,{timeout:E,token:g,tag:w,headers:m,returnQuery:C,lastLiveEventId:P,cacheMode:A}=o,T=yt(e,r,y),L={method:l?"GET":"POST",uri:T,json:!0,body:l?void 0:n,query:i&&Wo(o),timeout:E,headers:m,token:g,tag:w,returnQuery:C,perspective:o.perspective,resultSourceMap:o.resultSourceMap,lastLiveEventId:Array.isArray(P)?P[0]:P,cacheMode:A,canUseCdn:a,signal:o.signal,fetch:o.fetch,useAbortSignal:o.useAbortSignal,useCdn:o.useCdn};return Gt(e,t,L).pipe(Vt(xe),Z(Go),Z(D=>{if(!i)return D;const N=D.results||[];if(o.returnDocuments)return v?N[0]&&N[0].document:N.map($=>$.document);const J=v?"documentId":"documentIds",z=v?N[0]&&N[0].id:N.map($=>$.id);return{transactionId:D.transactionId,results:N,[J]:z}}))}function ne(e,t,r,n,o={}){const i={[n]:r},s=Object.assign({returnFirst:!0,returnDocuments:!0},o);return St(e,t,"mutate",{mutations:[i]},s)}function Gt(e,t,r){const n=r.url||r.uri,o=e.config(),i=typeof r.canUseCdn>"u"?["GET","HEAD"].indexOf(r.method||"GET")>=0&&n.indexOf("/data/")===0:r.canUseCdn;let s=(r.useCdn??o.useCdn)&&i;const a=r.tag&&o.requestTagPrefix?[o.requestTagPrefix,r.tag].join("."):r.tag||o.requestTagPrefix;if(a&&r.tag!==null&&(r.query={tag:$r(a),...r.query}),["GET","HEAD","POST"].indexOf(r.method||"GET")>=0&&n.indexOf("/data/query/")===0){const y=r.resultSourceMap??o.resultSourceMap;y!==void 0&&y!==!1&&(r.query={resultSourceMap:y,...r.query});const v=r.perspective||o.perspective;typeof v<"u"&&(Rr(v),r.query={perspective:Array.isArray(v)?v.join(","):v,...r.query},v==="previewDrafts"&&s&&(s=!1,Mo())),r.lastLiveEventId&&(r.query={...r.query,lastLiveEventId:r.lastLiveEventId}),r.returnQuery===!1&&(r.query={returnQuery:"false",...r.query}),s&&r.cacheMode=="noStale"&&(r.query={cacheMode:"noStale",...r.query})}const p=zo(o,Object.assign({},r,{url:Ie(e,n,s)})),l=new U(y=>t(p,o.requester).subscribe(y));return r.signal?l.pipe(Qo(r.signal)):l}function W(e,t,r){return Gt(e,t,r).pipe(Vt(n=>n.type==="response"),Z(n=>n.body))}function yt(e,t,r){const n=e.config(),o=Tr(n),i=`/${t}/${o}`;return`/data${r?`${i}/${r}`:i}`.replace(/\/($|\?)/,"$1")}function Ie(e,t,r=!1){const{url:n,cdnUrl:o}=e.config();return`${r?o:n}/${t.replace(/^\//,"")}`}function Qo(e){return t=>new U(r=>{const n=()=>r.error(Ko(e));if(e&&e.aborted){n();return}const o=t.subscribe(r);return e.addEventListener("abort",n),()=>{e.removeEventListener("abort",n),o.unsubscribe()}})}const Xo=!!globalThis.DOMException;function Ko(e){if(Xo)return new DOMException((e==null?void 0:e.reason)??"The operation was aborted.","AbortError");const t=new Error((e==null?void 0:e.reason)??"The operation was aborted.");return t.name="AbortError",t}var Mt,Ut;class Zo{constructor(t,r){x(this,Mt);x(this,Ut);S(this,Mt,t),S(this,Ut,r)}upload(t,r,n){return Gr(f(this,Mt),f(this,Ut),t,r,n)}}Mt=new WeakMap,Ut=new WeakMap;var kt,Lt;class ti{constructor(t,r){x(this,kt);x(this,Lt);S(this,kt,t),S(this,Lt,r)}upload(t,r,n){const o=Gr(f(this,kt),f(this,Lt),t,r,n);return q(o.pipe(Vt(i=>i.type==="response"),Z(i=>i.body.document)))}}kt=new WeakMap,Lt=new WeakMap;function Gr(e,t,r,n,o={}){$o(r);let i=o.extract||void 0;i&&!i.length&&(i=["none"]);const s=Tr(e.config()),a=r==="image"?"images":"files",p=ei(o,n),{tag:l,label:y,title:v,description:E,creditLine:g,filename:w,source:m}=p,C={label:y,title:v,description:E,filename:w,meta:i,creditLine:g};return m&&(C.sourceId=m.id,C.sourceName=m.name,C.sourceUrl=m.url),Gt(e,t,{tag:l,method:"POST",timeout:p.timeout||0,uri:`/assets/${a}/${s}`,headers:p.contentType?{"Content-Type":p.contentType}:{},query:C,body:n})}function ei(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}var ri=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((r,n)=>(r[n]=typeof e[n]>"u"?t[n]:e[n],r),{});const ni=(e,t)=>t.reduce((r,n)=>(typeof e[n]>"u"||(r[n]=e[n]),r),{}),oi=14800,ii=["includePreviousRevision","includeResult","includeMutations","visibility","effectFormat","tag"],si={includeResult:!0};function Jr(e,t,r={}){const{url:n,token:o,withCredentials:i,requestTagPrefix:s}=this.config(),a=r.tag&&s?[s,r.tag].join("."):r.tag,p={...ri(r,si),tag:a},l=ni(p,ii),y=kr({query:e,params:t,options:{tag:a,...l}}),v=`${n}${yt(this,"listen",y)}`;if(v.length>oi)return new U(m=>m.error(new Error("Query too large for listener")));const E=p.events?p.events:["mutation"],g=E.indexOf("reconnect")!==-1,w={};return(o||i)&&(w.withCredentials=!0),o&&(w.headers={Authorization:`Bearer ${o}`}),new U(m=>{let C,P,A=!1,T=!1;c();function L(){A||($(),!A&&C.readyState===C.CLOSED&&(z(),clearTimeout(P),P=setTimeout(c,100)))}function D(d){m.error(ai(d))}function N(d){const u=Yr(d);return u instanceof Error?m.error(u):m.next(u)}function J(){A=!0,z(),m.complete()}function z(){C&&(C.removeEventListener("error",L),C.removeEventListener("channelError",D),C.removeEventListener("disconnect",J),E.forEach(d=>C.removeEventListener(d,N)),C.close())}function $(){g&&m.next({type:"reconnect"})}async function M(){const{default:d}=await de(async()=>{const{default:I}=await import("./browser.CexKRsjn.js").then(b=>b.b);return{default:I}},[],import.meta.url);if(T)return;const u=new d(v,w);return u.addEventListener("error",L),u.addEventListener("channelError",D),u.addEventListener("disconnect",J),E.forEach(I=>u.addEventListener(I,N)),u}function c(){M().then(d=>{d&&(C=d,T&&z())}).catch(d=>{m.error(d),h()})}function h(){A=!0,z(),T=!0}return h})}function Yr(e){try{const t=e.data&&JSON.parse(e.data)||{};return Object.assign({type:e.type},t)}catch(t){return t}}function ai(e){if(e instanceof Error)return e;const t=Yr(e);return t instanceof Error?t:new Error(ui(t))}function ui(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}const Ge="2021-03-26";var lt;class Qr{constructor(t){x(this,lt);S(this,lt,t)}events({includeDrafts:t=!1,tag:r}={}){const{projectId:n,apiVersion:o,token:i,withCredentials:s,requestTagPrefix:a}=f(this,lt).config(),p=o.replace(/^v/,"");if(p!=="X"&&p<Ge)throw new Error(`The live events API requires API version ${Ge} or later. The current API version is ${p}. Please update your API version to use this feature.`);if(t&&!i&&!s)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");if(t&&p!=="X")throw new Error("The live events API requires API version X when 'includeDrafts: true'. This API is experimental and may change or even be removed.");const l=yt(f(this,lt),"live/events"),y=new URL(f(this,lt).getUrl(l,!1)),v=r&&a?[a,r].join("."):r;v&&y.searchParams.set("tag",v),t&&y.searchParams.set("includeDrafts","true");const E=["restart","message","welcome","reconnect"],g={};return t&&i&&(g.headers={Authorization:`Bearer ${i}`}),t&&s&&(g.withCredentials=!0),new U(w=>{let m,C,P=!1,A=!1;J();function T($){if(!P){if("data"in $){const M=Je($);w.error(new Error(M.message,{cause:M}))}m.readyState===m.CLOSED&&(D(),clearTimeout(C),C=setTimeout(J,100))}}function L($){const M=Je($);return M instanceof Error?w.error(M):w.next(M)}function D(){if(m){m.removeEventListener("error",T);for(const $ of E)m.removeEventListener($,L);m.close()}}async function N(){const $=typeof EventSource>"u"||g.headers||g.withCredentials?(await de(async()=>{const{default:c}=await import("./browser.CexKRsjn.js").then(h=>h.b);return{default:c}},[],import.meta.url)).default:EventSource;if(A)return;try{if(await fetch(y,{method:"OPTIONS",mode:"cors",credentials:g.withCredentials?"include":"omit",headers:g.headers}),A)return}catch{throw new So({projectId:n})}const M=new $(y.toString(),g);M.addEventListener("error",T);for(const c of E)M.addEventListener(c,L);return M}function J(){N().then($=>{$&&(m=$,A&&D())}).catch($=>{w.error($),z()})}function z(){P=!0,D(),A=!0}return z})}}lt=new WeakMap;function Je(e){try{const t=e.data&&JSON.parse(e.data)||{};return{type:e.type,id:e.lastEventId,...t}}catch(t){return t}}var rt,nt;class ci{constructor(t,r){x(this,rt);x(this,nt);S(this,rt,t),S(this,nt,r)}create(t,r){return vt(f(this,rt),f(this,nt),"PUT",t,r)}edit(t,r){return vt(f(this,rt),f(this,nt),"PATCH",t,r)}delete(t){return vt(f(this,rt),f(this,nt),"DELETE",t)}list(){return W(f(this,rt),f(this,nt),{uri:"/datasets",tag:null})}}rt=new WeakMap,nt=new WeakMap;var ot,it;class li{constructor(t,r){x(this,ot);x(this,it);S(this,ot,t),S(this,it,r)}create(t,r){return q(vt(f(this,ot),f(this,it),"PUT",t,r))}edit(t,r){return q(vt(f(this,ot),f(this,it),"PATCH",t,r))}delete(t){return q(vt(f(this,ot),f(this,it),"DELETE",t))}list(){return q(W(f(this,ot),f(this,it),{uri:"/datasets",tag:null}))}}ot=new WeakMap,it=new WeakMap;function vt(e,t,r,n,o){return jr(n),W(e,t,{method:r,uri:`/datasets/${n}`,body:o,tag:null})}var bt,Et;class fi{constructor(t,r){x(this,bt);x(this,Et);S(this,bt,t),S(this,Et,r)}list(t){const r=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return W(f(this,bt),f(this,Et),{uri:r})}getById(t){return W(f(this,bt),f(this,Et),{uri:`/projects/${t}`})}}bt=new WeakMap,Et=new WeakMap;var Ct,Ot;class hi{constructor(t,r){x(this,Ct);x(this,Ot);S(this,Ct,t),S(this,Ot,r)}list(t){const r=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return q(W(f(this,Ct),f(this,Ot),{uri:r}))}getById(t){return q(W(f(this,Ct),f(this,Ot),{uri:`/projects/${t}`}))}}Ct=new WeakMap,Ot=new WeakMap;var Dt,Nt;class di{constructor(t,r){x(this,Dt);x(this,Nt);S(this,Dt,t),S(this,Nt,r)}getById(t){return W(f(this,Dt),f(this,Nt),{uri:`/users/${t}`})}}Dt=new WeakMap,Nt=new WeakMap;var Ht,Bt;class pi{constructor(t,r){x(this,Ht);x(this,Bt);S(this,Ht,t),S(this,Bt,r)}getById(t){return q(W(f(this,Ht),f(this,Bt),{uri:`/users/${t}`}))}}Ht=new WeakMap,Bt=new WeakMap;var X,_;const te=class te{constructor(t,r=Pt){O(this,"assets");O(this,"datasets");O(this,"live");O(this,"projects");O(this,"users");x(this,X);x(this,_);O(this,"listen",Jr);this.config(r),S(this,_,t),this.assets=new Zo(this,f(this,_)),this.datasets=new ci(this,f(this,_)),this.live=new Qr(this),this.projects=new fi(this,f(this,_)),this.users=new di(this,f(this,_))}clone(){return new te(f(this,_),this.config())}config(t){if(t===void 0)return{...f(this,X)};if(f(this,X)&&f(this,X).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return S(this,X,_r(t,f(this,X)||{})),this}withConfig(t){const r=this.config();return new te(f(this,_),{...r,...t,stega:{...r.stega||{},...typeof(t==null?void 0:t.stega)=="boolean"?{enabled:t.stega}:(t==null?void 0:t.stega)||{}}})}fetch(t,r,n){return Lr(this,f(this,_),f(this,X).stega,t,r,n)}getDocument(t,r){return Dr(this,f(this,_),t,r)}getDocuments(t,r){return Nr(this,f(this,_),t,r)}create(t,r){return ne(this,f(this,_),t,"create",r)}createIfNotExists(t,r){return Hr(this,f(this,_),t,r)}createOrReplace(t,r){return Br(this,f(this,_),t,r)}delete(t,r){return zr(this,f(this,_),t,r)}mutate(t,r){return Vr(this,f(this,_),t,r)}patch(t,r){return new ft(t,r,this)}transaction(t){return new Zt(t,this)}action(t,r){return Wr(this,f(this,_),t,r)}request(t){return W(this,f(this,_),t)}getUrl(t,r){return Ie(this,t,r)}getDataUrl(t,r){return yt(this,t,r)}};X=new WeakMap,_=new WeakMap;let fe=te;var K,R;const ee=class ee{constructor(t,r=Pt){O(this,"assets");O(this,"datasets");O(this,"live");O(this,"projects");O(this,"users");O(this,"observable");x(this,K);x(this,R);O(this,"listen",Jr);this.config(r),S(this,R,t),this.assets=new ti(this,f(this,R)),this.datasets=new li(this,f(this,R)),this.live=new Qr(this),this.projects=new hi(this,f(this,R)),this.users=new pi(this,f(this,R)),this.observable=new fe(t,r)}clone(){return new ee(f(this,R),this.config())}config(t){if(t===void 0)return{...f(this,K)};if(f(this,K)&&f(this,K).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),S(this,K,_r(t,f(this,K)||{})),this}withConfig(t){const r=this.config();return new ee(f(this,R),{...r,...t,stega:{...r.stega||{},...typeof(t==null?void 0:t.stega)=="boolean"?{enabled:t.stega}:(t==null?void 0:t.stega)||{}}})}fetch(t,r,n){return q(Lr(this,f(this,R),f(this,K).stega,t,r,n))}getDocument(t,r){return q(Dr(this,f(this,R),t,r))}getDocuments(t,r){return q(Nr(this,f(this,R),t,r))}create(t,r){return q(ne(this,f(this,R),t,"create",r))}createIfNotExists(t,r){return q(Hr(this,f(this,R),t,r))}createOrReplace(t,r){return q(Br(this,f(this,R),t,r))}delete(t,r){return q(zr(this,f(this,R),t,r))}mutate(t,r){return q(Vr(this,f(this,R),t,r))}patch(t,r){return new ht(t,r,this)}transaction(t){return new Kt(t,this)}action(t,r){return q(Wr(this,f(this,R),t,r))}request(t){return q(W(this,f(this,R),t))}dataRequest(t,r,n){return q(St(this,f(this,R),t,r,n))}getUrl(t,r){return Ie(this,t,r)}getDataUrl(t,r){return yt(this,t,r)}};K=new WeakMap,R=new WeakMap;let he=ee;function yi(e,t){const r=Ao(e);return{requester:r,createClient:n=>new t((o,i)=>(i||r)({maxRedirects:0,maxRetries:n.maxRetries,retryDelay:n.retryDelay,...o}),n)}}var mi=[];const gi=yi(mi,he),$i=gi.createClient;var Ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _i(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var Yt={exports:{}},wi=Yt.exports,Ye;function bi(){return Ye||(Ye=1,function(e,t){(function(r,n){e.exports=n()})(wi,function(){function r(){return r=Object.assign||function(c){for(var h=1;h<arguments.length;h++){var d=arguments[h];for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&(c[u]=d[u])}return c},r.apply(this,arguments)}function n(c,h){if(c){if(typeof c=="string")return o(c,h);var d=Object.prototype.toString.call(c).slice(8,-1);if(d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set")return Array.from(c);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return o(c,h)}}function o(c,h){(h==null||h>c.length)&&(h=c.length);for(var d=0,u=new Array(h);d<h;d++)u[d]=c[d];return u}function i(c,h){var d=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(d)return(d=d.call(c)).next.bind(d);if(Array.isArray(c)||(d=n(c))||h){d&&(c=d);var u=0;return function(){return u>=c.length?{done:!0}:{done:!1,value:c[u++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(c){var h=c.split("-"),d=h[1],u=h[2],I=h[3];if(!d||!u||!I)throw new Error("Malformed asset _ref '"+c+`'. Expected an id like "`+s+'".');var b=u.split("x"),j=b[0],k=b[1],V=+j,B=+k,H=isFinite(V)&&isFinite(B);if(!H)throw new Error("Malformed asset _ref '"+c+`'. Expected an id like "`+s+'".');return{id:d,width:V,height:B,format:I}}var p=function(h){var d=h;return d?typeof d._ref=="string":!1},l=function(h){var d=h;return d?typeof d._id=="string":!1},y=function(h){var d=h;return d&&d.asset?typeof d.asset.url=="string":!1};function v(c){if(!c)return null;var h;if(typeof c=="string"&&E(c))h={asset:{_ref:g(c)}};else if(typeof c=="string")h={asset:{_ref:c}};else if(p(c))h={asset:c};else if(l(c))h={asset:{_ref:c._id||""}};else if(y(c))h={asset:{_ref:g(c.asset.url)}};else if(typeof c.asset=="object")h=r({},c);else return null;var d=c;return d.crop&&(h.crop=d.crop),d.hotspot&&(h.hotspot=d.hotspot),w(h)}function E(c){return/^https?:\/\//.test(""+c)}function g(c){var h=c.split("/").slice(-1);return("image-"+h[0]).replace(/\.([a-z]+)$/,"-$1")}function w(c){if(c.crop&&c.hotspot)return c;var h=r({},c);return h.crop||(h.crop={left:0,top:0,bottom:0,right:0}),h.hotspot||(h.hotspot={x:.5,y:.5,height:1,width:1}),h}var m=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function C(c){var h=r({},c||{}),d=h.source;delete h.source;var u=v(d);if(!u)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(d)+")");var I=u.asset._ref||u.asset._id||"",b=a(I),j=Math.round(u.crop.left*b.width),k=Math.round(u.crop.top*b.height),V={left:j,top:k,width:Math.round(b.width-u.crop.right*b.width-j),height:Math.round(b.height-u.crop.bottom*b.height-k)},B=u.hotspot.height*b.height/2,H=u.hotspot.width*b.width/2,mt=u.hotspot.x*b.width,at=u.hotspot.y*b.height,G={left:mt-H,top:at-B,right:mt+H,bottom:at+B};return h.rect||h.focalPoint||h.ignoreImageParams||h.crop||(h=r({},h,A({crop:V,hotspot:G},h))),P(r({},h,{asset:b}))}function P(c){var h=(c.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),d=c.vanityName?"/"+c.vanityName:"",u=c.asset.id+"-"+c.asset.width+"x"+c.asset.height+"."+c.asset.format+d,I=h+"/images/"+c.projectId+"/"+c.dataset+"/"+u,b=[];if(c.rect){var j=c.rect,k=j.left,V=j.top,B=j.width,H=j.height,mt=k!==0||V!==0||H!==c.asset.height||B!==c.asset.width;mt&&b.push("rect="+k+","+V+","+B+","+H)}c.bg&&b.push("bg="+c.bg),c.focalPoint&&(b.push("fp-x="+c.focalPoint.x),b.push("fp-y="+c.focalPoint.y));var at=[c.flipHorizontal&&"h",c.flipVertical&&"v"].filter(Boolean).join("");return at&&b.push("flip="+at),m.forEach(function(G){var xt=G[0],Y=G[1];typeof c[xt]<"u"?b.push(Y+"="+encodeURIComponent(c[xt])):typeof c[Y]<"u"&&b.push(Y+"="+encodeURIComponent(c[Y]))}),b.length===0?I:I+"?"+b.join("&")}function A(c,h){var d,u=h.width,I=h.height;if(!(u&&I))return{width:u,height:I,rect:c.crop};var b=c.crop,j=c.hotspot,k=u/I,V=b.width/b.height;if(V>k){var B=Math.round(b.height),H=Math.round(B*k),mt=Math.max(0,Math.round(b.top)),at=Math.round((j.right-j.left)/2+j.left),G=Math.max(0,Math.round(at-H/2));G<b.left?G=b.left:G+H>b.left+b.width&&(G=b.left+b.width-H),d={left:G,top:mt,width:H,height:B}}else{var xt=b.width,Y=Math.round(xt/k),Xr=Math.max(0,Math.round(b.left)),Kr=Math.round((j.bottom-j.top)/2+j.top),It=Math.max(0,Math.round(Kr-Y/2));It<b.top?It=b.top:It+Y>b.top+b.height&&(It=b.top+b.height-Y),d={left:Xr,top:It,width:xt,height:Y}}return{width:u,height:I,rect:d}}var T=["clip","crop","fill","fillmax","max","scale","min"],L=["top","bottom","left","right","center","focalpoint","entropy"],D=["format"];function N(c){return c&&"config"in c?typeof c.config=="function":!1}function J(c){return c&&"clientConfig"in c?typeof c.clientConfig=="object":!1}function z(c){for(var h=m,d=i(h),u;!(u=d()).done;){var I=u.value,b=I[0],j=I[1];if(c===b||c===j)return b}return c}function $(c){if(N(c)){var h=c.config(),d=h.apiHost,u=h.projectId,I=h.dataset,b=d||"https://api.sanity.io";return new M(null,{baseUrl:b.replace(/^https:\/\/api\./,"https://cdn."),projectId:u,dataset:I})}if(J(c)){var j=c.clientConfig,k=j.apiHost,V=j.projectId,B=j.dataset,H=k||"https://api.sanity.io";return new M(null,{baseUrl:H.replace(/^https:\/\/api\./,"https://cdn."),projectId:V,dataset:B})}return new M(null,c||{})}var M=function(){function c(d,u){this.options=void 0,this.options=d?r({},d.options||{},u||{}):r({},u||{})}var h=c.prototype;return h.withOptions=function(u){var I=u.baseUrl||this.options.baseUrl,b={baseUrl:I};for(var j in u)if(u.hasOwnProperty(j)){var k=z(j);b[k]=u[j]}return new c(this,r({baseUrl:I},b))},h.image=function(u){return this.withOptions({source:u})},h.dataset=function(u){return this.withOptions({dataset:u})},h.projectId=function(u){return this.withOptions({projectId:u})},h.bg=function(u){return this.withOptions({bg:u})},h.dpr=function(u){return this.withOptions(u&&u!==1?{dpr:u}:{})},h.width=function(u){return this.withOptions({width:u})},h.height=function(u){return this.withOptions({height:u})},h.focalPoint=function(u,I){return this.withOptions({focalPoint:{x:u,y:I}})},h.maxWidth=function(u){return this.withOptions({maxWidth:u})},h.minWidth=function(u){return this.withOptions({minWidth:u})},h.maxHeight=function(u){return this.withOptions({maxHeight:u})},h.minHeight=function(u){return this.withOptions({minHeight:u})},h.size=function(u,I){return this.withOptions({width:u,height:I})},h.blur=function(u){return this.withOptions({blur:u})},h.sharpen=function(u){return this.withOptions({sharpen:u})},h.rect=function(u,I,b,j){return this.withOptions({rect:{left:u,top:I,width:b,height:j}})},h.format=function(u){return this.withOptions({format:u})},h.invert=function(u){return this.withOptions({invert:u})},h.orientation=function(u){return this.withOptions({orientation:u})},h.quality=function(u){return this.withOptions({quality:u})},h.forceDownload=function(u){return this.withOptions({download:u})},h.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},h.flipVertical=function(){return this.withOptions({flipVertical:!0})},h.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},h.fit=function(u){if(T.indexOf(u)===-1)throw new Error('Invalid fit mode "'+u+'"');return this.withOptions({fit:u})},h.crop=function(u){if(L.indexOf(u)===-1)throw new Error('Invalid crop mode "'+u+'"');return this.withOptions({crop:u})},h.saturation=function(u){return this.withOptions({saturation:u})},h.auto=function(u){if(D.indexOf(u)===-1)throw new Error('Invalid auto mode "'+u+'"');return this.withOptions({auto:u})},h.pad=function(u){return this.withOptions({pad:u})},h.vanityName=function(u){return this.withOptions({vanityName:u})},h.frame=function(u){if(u!==1)throw new Error('Invalid frame value "'+u+'"');return this.withOptions({frame:u})},h.url=function(){return C(this.options)},h.toString=function(){return this.url()},c}();return $})}(Yt)),Yt.exports}var Ei=bi();const qi=vi(Ei);export{lr as A,Fn as B,Ti as C,ji as D,Ai as E,Ne as F,Vt as G,ao as H,qn as I,Ri as J,ke as K,_i as L,Pi as M,q as N,U as O,Si as P,Yn as Q,me as S,ye as _,$i as a,xi as b,re as c,or as d,Le as e,Ce as f,vi as g,_n as h,qi as i,In as j,Tt as k,pt as l,Z as m,dt as n,zt as o,Mn as p,F as q,le as r,Qn as s,st as t,Ee as u,we as v,cr as w,no as x,Or as y,io as z};
